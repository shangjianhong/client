/** *  */package com.ccagame.protocal.server.impl;import java.util.HashMap;import java.util.Map;import com.ccagame.protocal.model.RequestData;import com.ccagame.protocal.model.ResponseData;import com.ccagame.protocal.server.RequestProcessor;/** * @author Martin * */public class ImServerRequestProcessor extends AbstractServerRequestProcessor {	public ImServerRequestProcessor(String serverId) {		super(serverId);	}	/* (non-Javadoc)	 * @see com.kkliaotian.tool.protocal.Protocalable#procssRequest(com.kkliaotian.model.protocal.RequestData)	 */	@Override	public ResponseData procssRequest(RequestData requestData) throws Exception {		ResponseData rd = new ResponseData();		rd.setResponseCode(0);		Map<String, Object> data = new HashMap<String, Object>();		data.put("im_length", requestData.getBody().get("im_length"));		data.put("im_version", requestData.getBody().get("im_version"));		data.put("im_command", requestData.getBody().get("im_command"));		data.put("im_rid", requestData.getBody().get("im_rid"));		data.put("im_sid", requestData.getBody().get("im_sid"));		data.put("im_fromUid", requestData.getBody().get("im_fromUid"));		data.put("im_iqId", requestData.getBody().get("im_iqId"));		data.put("im_businessType", requestData.getBody().get("im_businessType"));		data.put("im_responseCode", 0);		byte[] subRequestData = (byte[]) requestData.getBody().get("im_requestData");		RequestProcessor rp = new RequestProcessor(subRequestData, serverId);		byte[] responseData = rp.process();		data.put("im_responseData", responseData);		rd.setData(data);		return rd;	}}